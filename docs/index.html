<!DOCTYPE html>
<html lang="nl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Index Pagina</title>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<link rel="stylesheet" href="css/style.css">
<!-- Voeg de client-ID toe -->
<meta name="google-signin-client_id" content="319141367834-8it32epdavm36pcfhojils5td5hfvro8.apps.googleusercontent.com">
<script src="https://accounts.google.com/gsi/client" async defer></script>
</head>
<body>

<div class="container" id="index-container">
  <div class="title-container">
    <h2 class="mt-3">Schedul<span class="rotate-a">a</span>r</h2>
    <!-- Voeg het logo toe -->
    <img src="img/EMBLEEM-clb.png" alt="Logo" class="logo">
  </div>
  <!-- Voeg de "Inloggen met Google" knop toe -->
  <div id="g_id_onload"
       data-client_id="319141367834-6abirr91d7p42fgjrmkg8k1norjg21a1.apps.googleusercontent.com"
       data-login_uri="https://cloudnewby.github.io/schedular/schedular_from.html">
  </div>
  <div id="signInButton" class="g_id_signin" data-type="standard">Inloggen met Google</div>
</div>

<script>
// Functie om de gebruikersreferenties te verwerken
function handleCredentialResponse(response) {
  console.log('Gebruiker succesvol ingelogd:', response);
  // Voer hier verdere acties uit, zoals het inloggen van de gebruiker in je systeem.
}
</script>

<!-- Voeg de Firebase SDK toe -->
<script type="module">
  // Importeer de Firebase-authenticatiefuncties die we nodig hebben
  import { initializeApp } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-app.js";
  import { getAuth, GoogleAuthProvider, signInWithPopup, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/10.0.0/firebase-auth.js";
  
  // Configureer de Firebase-app met je Firebase-configuratie
  const firebaseConfig = {
    apiKey: "AIzaSyABSXNdMqFB_MTImWUSEwnyMyoEMKXhEo0",
    authDomain: "vclbdewissel-65c07.firebaseapp.com",
    projectId: "vclbdewissel-65c07",
    storageBucket: "vclbdewissel-65c07.appspot.com",
    messagingSenderId: "158057896673",
    appId: "1:158057896673:web:c6dfb8a3c0f4997e1ef5a0"
  };
  const app = initializeApp(firebaseConfig);

  // Haal de Firebase-authenticatie en provider op
  const auth = getAuth();
  const provider = new GoogleAuthProvider();

  // Voeg event listener toe aan de knop voor inloggen
  const signInButton = document.getElementById("signInButton");

  signInButton.addEventListener('click', () => {
    signInWithGoogle();
  });

  // Functie om in te loggen met Google
  function signInWithGoogle() {
    signInWithPopup(auth, provider)
      .then((result) => {
        const user = result.user;
        console.log('Gebruiker succesvol ingelogd:', user);
        // Voer hier verdere acties uit nadat de gebruiker is ingelogd
      }).catch((error) => {
        console.error('Fout bij inloggen:', error);
      });
  }

  // Luister naar veranderingen in de authenticatiestatus
  onAuthStateChanged(auth, (user) => {
    if (user) {
      // Gebruiker is ingelogd
      console.log('Gebruiker is ingelogd:', user);
      // Voer hier acties uit die moeten plaatsvinden wanneer de gebruiker is ingelogd
    } else {
      // Gebruiker is uitgelogd
      console.log('Gebruiker is uitgelogd');
      // Voer hier acties uit die moeten plaatsvinden wanneer de gebruiker is uitgelogd
    }
  });
</script>

</body>
</html>
